{"version":3,"sources":["src/scripts/index.js","scripts/polyfills.js","../node_modules/siema/dist/siema.min.js","scripts/components/section.js","scripts/components/programs.js","scripts/components/programs-mobile.js","../node_modules/smoothscroll/smoothscroll.js","scripts/components/tracking.js","scripts/components/header.js","scripts/components/scrolling.js","scripts/index.js","scripts/app.js","scripts/components/companies.js"],"names":["window","NodeList","prototype","forEach","callback","thisArg","i","this","length","call","Element","closest","matches","msMatchesSelector","webkitMatchesSelector","s","ancestor","document","documentElement","contains","parentElement","global","self","createCommonjsModule","fn","module","exports","x","siema_min","e","t","r","n","l","m","c","d","o","Object","defineProperty","configurable","enumerable","get","__esModule","default","hasOwnProperty","p","value","Symbol","_typeof","iterator","constructor","writable","key","TypeError","config","mergeSettings","selector","querySelector","Error","resolveSlidesNumber","selectorWidth","offsetWidth","innerElements","slice","children","currentSlide","loop","startIndex","Math","max","min","perPage","transformProperty","webkitOrNot","bind","init","addEventListener","resizeHandler","draggable","pointerDown","drag","startX","endX","startY","letItGo","preventClick","touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler","clickHandler","removeEventListener","attachEvents","style","overflow","direction","rtl","buildSliderFrame","onInit","sliderFrame","createElement","width","enableTransition","cursor","createDocumentFragment","buildSliderFrameItem","cloneNode","appendChild","a","innerHTML","slideToCurrent","cssFloat","float","innerWidth","arguments","disableTransition","onChange","webkitTransition","easing","transition","duration","requestAnimationFrame","abs","multipleDrag","ceil","threshold","prev","next","indexOf","target","nodeName","stopPropagation","touches","pageX","pageY","updateAfterDrag","clearDrag","preventDefault","splice","insert","detachEvents","removeAttribute","transform","Siema","Section","_this","_classCallCheck","Carousel","setActiveNavItem","0","480","carousel","initCarouselNav","pageWrap","getElementById","onScroll","passiveScrollHandler","onPassiveScroll","isLocked","autoPlay","_createClass","_this2","timeOut","setTimeout","_this3","carouselNav","slides","firstChild","carouselNavItems","querySelectorAll","navItem","id","onCarouselNavClick","clearTimeout","activeNavItem","classList","remove","add","theme","heading","getElementsByClassName","subheading","quoteOne","quoteTwo","themeEl","themes","scrollOffset","scrollTop","clientHeight","getBoundingClientRect","top","innerHeight","isFirstTheme","isQuoteOne","isQuoteTwo","_this4","panel","stat","isInViewport","_addClass","_removeClass","elem","className","addClassTimeout","timeoutClass","rect","bottom","height","_this5","container","programs","program","index","isSmoothScrolling","debounce","location","hash","substring","name","fixSectionHeading","animateStats","animatePrograms","goTo","Programs","initPrograms","_this6","currentSlider","onProgramClicked","onProgramHover","openProgram","closeButton","onCloseClicked","backgroundImage","background","clickedProgram","visibility","initCloseProgram","hoveredProgram","_this7","getAttribute","changeBackground","event","stopVideos","videos","Array","el","el_src","src","MobilePrograms","programContent","initProgramContent","_this8","_this9","closeAllPrograms","body","currentProgram","smoothscroll$1","smoothScroll","pageYOffset","history","pushState","position","start","end","elapsed","context","parseInt","element","getTop","clock","Date","now","mozRequestAnimationFrame","webkitRequestAnimationFrame","step","scroll","linkHandler","ev","defaultPrevented","node","replace","internal","Tracking","initLinkTracking","_this10","link","onLinkClicked","trackEvent","currentTarget","category","action","label","console","log","dataLayer","warn","push","eventAction","eventLabel","Header","oldScrollPosition","isScrollingActivated","onMouseWheel","onTouchStart","initBurgerButton","initSmoothScroll","getCurrentSection","onHomeClick","button","onclick","toggle","_this11","links","smoothScrollLinkClickedHandler","onSmoothScrollLinkClicked","anchors","setCurrentItem","anchor","currentSection","current","themeColour","dataset","anchorClass","replaceState","oldSection","updateURL","updateAnchorClass","split","SmoothScroll","Scrolling","_this12","pageEl","header","isMobile","currentScrollPos","onWheel","_initSectionAnchorsForMobile","onScrollableElementWheel","onCitationClick","discoverMoreEl","onDiscoverMoreClicked","showHideDiscoverMore","progressPageHandler","progressPage","sections","sectionAnchors","_ref","activeSection","_this13","scrollToElem","currentlyActiveSection","isLastSection","scrollIntoView","behavior","block","inline","nextSection","_scrollTo","scrollBy","_this14","scrollToPos","_deactivateScrolling","_activateScrolling","_this15","scrollHeight","_this16","left","overScroll","deltaY","isAtBottom","footerHeight","onlyPartnersSection","partnersHeight","_upScroll","_downScroll","scrollDelta","lastScrollPos","scrollToBottom","_scrollToNext","App","Companies","siemaSelector","siemaSelectorItems","CompaniesCarousel","960","setInterval"],"mappings":"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","file":"main.js","sourcesContent":["(function () {\n'use strict';\n\nif (window.NodeList && !NodeList.prototype.forEach) {\n    NodeList.prototype.forEach = function (callback, thisArg) {\n        thisArg = thisArg || window;\n        for (var i = 0; i < this.length; i++) {\n            callback.call(thisArg, this[i], i, this);\n        }\n    };\n}\n\n/**\n * Element.closest() polyfill\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\n */\nif (!Element.prototype.closest) {\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\tElement.prototype.closest = function (s) {\n\t\tvar el = this;\n\t\tvar ancestor = this;\n\t\tif (!document.documentElement.contains(el)) return null;\n\t\tdo {\n\t\t\tif (ancestor.matches(s)) return ancestor;\n\t\t\tancestor = ancestor.parentElement;\n\t\t} while (ancestor !== null);\n\t\treturn null;\n\t};\n}\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar siema_min = createCommonjsModule(function (module, exports) {\n!function(e,t){module.exports=t();}(\"undefined\"!=typeof self?self:commonjsGlobal,function(){return function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r});},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,\"a\",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=0)}([function(e,t,i){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),l=function(){function e(t){var i=this;if(r(this,e),this.config=e.mergeSettings(t),this.selector=\"string\"==typeof this.config.selector?document.querySelector(this.config.selector):this.config.selector,null===this.selector)throw new Error(\"Something wrong with your selector 😭\");this.resolveSlidesNumber(),this.selectorWidth=this.selector.offsetWidth,this.innerElements=[].slice.call(this.selector.children),this.currentSlide=this.config.loop?this.config.startIndex%this.innerElements.length:Math.max(0,Math.min(this.config.startIndex,this.innerElements.length-this.perPage)),this.transformProperty=e.webkitOrNot(),[\"resizeHandler\",\"touchstartHandler\",\"touchendHandler\",\"touchmoveHandler\",\"mousedownHandler\",\"mouseupHandler\",\"mouseleaveHandler\",\"mousemoveHandler\",\"clickHandler\"].forEach(function(e){i[e]=i[e].bind(i);}),this.init();}return s(e,[{key:\"attachEvents\",value:function(){window.addEventListener(\"resize\",this.resizeHandler),this.config.draggable&&(this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:!1},this.selector.addEventListener(\"touchstart\",this.touchstartHandler),this.selector.addEventListener(\"touchend\",this.touchendHandler),this.selector.addEventListener(\"touchmove\",this.touchmoveHandler),this.selector.addEventListener(\"mousedown\",this.mousedownHandler),this.selector.addEventListener(\"mouseup\",this.mouseupHandler),this.selector.addEventListener(\"mouseleave\",this.mouseleaveHandler),this.selector.addEventListener(\"mousemove\",this.mousemoveHandler),this.selector.addEventListener(\"click\",this.clickHandler));}},{key:\"detachEvents\",value:function(){window.removeEventListener(\"resize\",this.resizeHandler),this.selector.removeEventListener(\"touchstart\",this.touchstartHandler),this.selector.removeEventListener(\"touchend\",this.touchendHandler),this.selector.removeEventListener(\"touchmove\",this.touchmoveHandler),this.selector.removeEventListener(\"mousedown\",this.mousedownHandler),this.selector.removeEventListener(\"mouseup\",this.mouseupHandler),this.selector.removeEventListener(\"mouseleave\",this.mouseleaveHandler),this.selector.removeEventListener(\"mousemove\",this.mousemoveHandler),this.selector.removeEventListener(\"click\",this.clickHandler);}},{key:\"init\",value:function(){this.attachEvents(),this.selector.style.overflow=\"hidden\",this.selector.style.direction=this.config.rtl?\"rtl\":\"ltr\",this.buildSliderFrame(),this.config.onInit.call(this);}},{key:\"buildSliderFrame\",value:function(){var e=this.selectorWidth/this.perPage,t=this.config.loop?this.innerElements.length+2*this.perPage:this.innerElements.length;this.sliderFrame=document.createElement(\"div\"),this.sliderFrame.style.width=e*t+\"px\",this.enableTransition(),this.config.draggable&&(this.selector.style.cursor=\"-webkit-grab\");var i=document.createDocumentFragment();if(this.config.loop)for(var r=this.innerElements.length-this.perPage;r<this.innerElements.length;r++){var n=this.buildSliderFrameItem(this.innerElements[r].cloneNode(!0));i.appendChild(n);}for(var s=0;s<this.innerElements.length;s++){var l=this.buildSliderFrameItem(this.innerElements[s]);i.appendChild(l);}if(this.config.loop)for(var o=0;o<this.perPage;o++){var a=this.buildSliderFrameItem(this.innerElements[o].cloneNode(!0));i.appendChild(a);}this.sliderFrame.appendChild(i),this.selector.innerHTML=\"\",this.selector.appendChild(this.sliderFrame),this.slideToCurrent();}},{key:\"buildSliderFrameItem\",value:function(e){var t=document.createElement(\"div\");return t.style.cssFloat=this.config.rtl?\"right\":\"left\",t.style.float=this.config.rtl?\"right\":\"left\",t.style.width=(this.config.loop?100/(this.innerElements.length+2*this.perPage):100/this.innerElements.length)+\"%\",t.appendChild(e),t}},{key:\"resolveSlidesNumber\",value:function(){if(\"number\"==typeof this.config.perPage)this.perPage=this.config.perPage;else if(\"object\"===n(this.config.perPage)){this.perPage=1;for(var e in this.config.perPage)window.innerWidth>=e&&(this.perPage=this.config.perPage[e]);}}},{key:\"prev\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var i=this.currentSlide;if(this.config.loop){if(this.currentSlide-e<0){this.disableTransition();var r=this.currentSlide+this.innerElements.length,n=this.perPage,s=r+n,l=(this.config.rtl?1:-1)*s*(this.selectorWidth/this.perPage),o=this.config.draggable?this.drag.endX-this.drag.startX:0;this.sliderFrame.style[this.transformProperty]=\"translate3d(\"+(l+o)+\"px, 0, 0)\",this.currentSlide=r-e;}else this.currentSlide=this.currentSlide-e;}else this.currentSlide=Math.max(this.currentSlide-e,0);i!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),t&&t.call(this));}}},{key:\"next\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var i=this.currentSlide;if(this.config.loop){if(this.currentSlide+e>this.innerElements.length-this.perPage){this.disableTransition();var r=this.currentSlide-this.innerElements.length,n=this.perPage,s=r+n,l=(this.config.rtl?1:-1)*s*(this.selectorWidth/this.perPage),o=this.config.draggable?this.drag.endX-this.drag.startX:0;this.sliderFrame.style[this.transformProperty]=\"translate3d(\"+(l+o)+\"px, 0, 0)\",this.currentSlide=r+e;}else this.currentSlide=this.currentSlide+e;}else this.currentSlide=Math.min(this.currentSlide+e,this.innerElements.length-this.perPage);i!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),t&&t.call(this));}}},{key:\"disableTransition\",value:function(){this.sliderFrame.style.webkitTransition=\"all 0ms \"+this.config.easing,this.sliderFrame.style.transition=\"all 0ms \"+this.config.easing;}},{key:\"enableTransition\",value:function(){this.sliderFrame.style.webkitTransition=\"all \"+this.config.duration+\"ms \"+this.config.easing,this.sliderFrame.style.transition=\"all \"+this.config.duration+\"ms \"+this.config.easing;}},{key:\"goTo\",value:function(e,t){if(!(this.innerElements.length<=this.perPage)){var i=this.currentSlide;this.currentSlide=this.config.loop?e%this.innerElements.length:Math.min(Math.max(e,0),this.innerElements.length-this.perPage),i!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),t&&t.call(this));}}},{key:\"slideToCurrent\",value:function(e){var t=this,i=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,r=(this.config.rtl?1:-1)*i*(this.selectorWidth/this.perPage);e?requestAnimationFrame(function(){requestAnimationFrame(function(){t.enableTransition(),t.sliderFrame.style[t.transformProperty]=\"translate3d(\"+r+\"px, 0, 0)\";});}):this.sliderFrame.style[this.transformProperty]=\"translate3d(\"+r+\"px, 0, 0)\";}},{key:\"updateAfterDrag\",value:function(){var e=(this.config.rtl?-1:1)*(this.drag.endX-this.drag.startX),t=Math.abs(e),i=this.config.multipleDrag?Math.ceil(t/(this.selectorWidth/this.perPage)):1,r=e>0&&this.currentSlide-i<0,n=e<0&&this.currentSlide+i>this.innerElements.length-this.perPage;e>0&&t>this.config.threshold&&this.innerElements.length>this.perPage?this.prev(i):e<0&&t>this.config.threshold&&this.innerElements.length>this.perPage&&this.next(i),this.slideToCurrent(r||n);}},{key:\"resizeHandler\",value:function(){this.resolveSlidesNumber(),this.currentSlide+this.perPage>this.innerElements.length&&(this.currentSlide=this.innerElements.length<=this.perPage?0:this.innerElements.length-this.perPage),this.selectorWidth=this.selector.offsetWidth,this.buildSliderFrame();}},{key:\"clearDrag\",value:function(){this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:this.drag.preventClick};}},{key:\"touchstartHandler\",value:function(e){-1!==[\"TEXTAREA\",\"OPTION\",\"INPUT\",\"SELECT\"].indexOf(e.target.nodeName)||(e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.touches[0].pageX,this.drag.startY=e.touches[0].pageY);}},{key:\"touchendHandler\",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag();}},{key:\"touchmoveHandler\",value:function(e){if(e.stopPropagation(),null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-e.touches[0].pageY)<Math.abs(this.drag.startX-e.touches[0].pageX)),this.pointerDown&&this.drag.letItGo){e.preventDefault(),this.drag.endX=e.touches[0].pageX,this.sliderFrame.style.webkitTransition=\"all 0ms \"+this.config.easing,this.sliderFrame.style.transition=\"all 0ms \"+this.config.easing;var t=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,i=t*(this.selectorWidth/this.perPage),r=this.drag.endX-this.drag.startX,n=this.config.rtl?i+r:i-r;this.sliderFrame.style[this.transformProperty]=\"translate3d(\"+(this.config.rtl?1:-1)*n+\"px, 0, 0)\";}}},{key:\"mousedownHandler\",value:function(e){-1!==[\"TEXTAREA\",\"OPTION\",\"INPUT\",\"SELECT\"].indexOf(e.target.nodeName)||(e.preventDefault(),e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.pageX);}},{key:\"mouseupHandler\",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.selector.style.cursor=\"-webkit-grab\",this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag();}},{key:\"mousemoveHandler\",value:function(e){if(e.preventDefault(),this.pointerDown){\"A\"===e.target.nodeName&&(this.drag.preventClick=!0),this.drag.endX=e.pageX,this.selector.style.cursor=\"-webkit-grabbing\",this.sliderFrame.style.webkitTransition=\"all 0ms \"+this.config.easing,this.sliderFrame.style.transition=\"all 0ms \"+this.config.easing;var t=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,i=t*(this.selectorWidth/this.perPage),r=this.drag.endX-this.drag.startX,n=this.config.rtl?i+r:i-r;this.sliderFrame.style[this.transformProperty]=\"translate3d(\"+(this.config.rtl?1:-1)*n+\"px, 0, 0)\";}}},{key:\"mouseleaveHandler\",value:function(e){this.pointerDown&&(this.pointerDown=!1,this.selector.style.cursor=\"-webkit-grab\",this.drag.endX=e.pageX,this.drag.preventClick=!1,this.enableTransition(),this.updateAfterDrag(),this.clearDrag());}},{key:\"clickHandler\",value:function(e){this.drag.preventClick&&e.preventDefault(),this.drag.preventClick=!1;}},{key:\"remove\",value:function(e,t){if(e<0||e>=this.innerElements.length)throw new Error(\"Item to remove doesn't exist 😭\");var i=e<this.currentSlide,r=this.currentSlide+this.perPage-1===e;(i||r)&&this.currentSlide--,this.innerElements.splice(e,1),this.buildSliderFrame(),t&&t.call(this);}},{key:\"insert\",value:function(e,t,i){if(t<0||t>this.innerElements.length+1)throw new Error(\"Unable to inset it at this index 😭\");if(-1!==this.innerElements.indexOf(e))throw new Error(\"The same item in a carousel? Really? Nope 😭\");var r=t<=this.currentSlide>0&&this.innerElements.length;this.currentSlide=r?this.currentSlide+1:this.currentSlide,this.innerElements.splice(t,0,e),this.buildSliderFrame(),i&&i.call(this);}},{key:\"prepend\",value:function(e,t){this.insert(e,0),t&&t.call(this);}},{key:\"append\",value:function(e,t){this.insert(e,this.innerElements.length+1),t&&t.call(this);}},{key:\"destroy\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(this.detachEvents(),this.selector.style.cursor=\"auto\",e){for(var i=document.createDocumentFragment(),r=0;r<this.innerElements.length;r++)i.appendChild(this.innerElements[r]);this.selector.innerHTML=\"\",this.selector.appendChild(i),this.selector.removeAttribute(\"style\");}t&&t.call(this);}}],[{key:\"mergeSettings\",value:function(e){var t={selector:\".siema\",duration:200,easing:\"ease-out\",perPage:1,startIndex:0,draggable:!0,multipleDrag:!0,threshold:20,loop:!1,rtl:!1,onInit:function(){},onChange:function(){}},i=e;for(var r in i)t[r]=i[r];return t}},{key:\"webkitOrNot\",value:function(){return\"string\"==typeof document.documentElement.style.transform?\"transform\":\"WebkitTransform\"}}]),e}();t.default=l,e.exports=t.default;}])});\n});\n\nvar Siema = unwrapExports(siema_min);\n\nclass Section {\n\n    //////////////////////////////////////////\n    //            INITIALISATION            //\n    //////////////////////////////////////////\n\n    constructor() {\n\n        const Carousel = new Siema({\n            selector: '.stats__carousel',\n            loop: true,\n            duration: 400,\n            onChange: () => this.setActiveNavItem(Carousel),\n            perPage: {\n                0: 1,\n                480: 2\n            }\n        });\n\n        this.carousel = Carousel;\n        this.initCarouselNav(Carousel);\n        this.pageWrap = document.getElementById('page__wrap');\n        this.pageWrap.addEventListener('scroll', this.onScroll.bind(this));\n        this.passiveScrollHandler = this.onPassiveScroll.bind(this);\n        this.isLocked = false;\n\n        this.autoPlay();\n        this.onScroll();\n    }\n\n    autoPlay() {\n        this.timeOut = setTimeout(() => this.carousel.next(), 7000);\n    }\n\n    initCarouselNav(Carousel) {\n        const carouselNav = document.querySelector('.stats__carousel--nav');\n        let slides = Carousel.selector.firstChild.children;\n\n        if (window.innerWidth <= 480) {\n            for (let i=0; i<slides.length-2; i++) {\n                carouselNav.innerHTML += `<div class=\"stats__carousel--nav-item\"></div>`;\n            }\n        } else {\n            if (slides.length > 6) {\n                for (let i=0; i<slides.length-4; i++) {\n                    carouselNav.innerHTML += `<div class=\"stats__carousel--nav-item\"></div>`;\n                }\n            }\n        }\n\n        let carouselNavItems = document.querySelectorAll('.stats__carousel--nav-item');\n\n        carouselNavItems.forEach((navItem, i) => {\n            navItem.id = i;\n            navItem.addEventListener('click', this.onCarouselNavClick.bind(this, Carousel));\n        });\n\n        this.setActiveNavItem(Carousel, carouselNavItems);\n    }\n\n    setActiveNavItem(Carousel) {\n        let carouselNavItems = document.querySelectorAll('.stats__carousel--nav-item');\n        let currentSlide;\n\n        clearTimeout(this.timeOut);\n\n        if (carouselNavItems.length > 0) {\n            if (Carousel.currentSlide < 0) {\n                currentSlide = carouselNavItems.length - 1;\n            } else {\n                currentSlide = Carousel.currentSlide;\n            }\n            \n            let activeNavItem = carouselNavItems[currentSlide];\n\n            carouselNavItems.forEach(navItem => {\n                if (navItem.classList.contains('active')) {\n                    navItem.classList.remove('active');\n                }\n            });\n\n            activeNavItem.classList.add('active');\n        }\n\n        this.autoPlay();\n    }\n\n    //////////////////////////////////////////\n    //                METHODS               //\n    //////////////////////////////////////////\n\n    fixSectionHeading(theme) {\n\n        //This could do with some tidying up, but it does the job, sort of...\n\n        const heading = document.getElementById(theme).getElementsByClassName('section__heading')[0];\n        const subheading = document.getElementById(theme).getElementsByClassName('section__subheading')[0];\n        const quoteOne = document.getElementById(theme).getElementsByClassName('quote-one')[0];\n        const quoteTwo = document.getElementById(theme).getElementsByClassName('quote-two')[0];\n        const themeEl = document.getElementById(theme);        \n        const themes = document.querySelectorAll('.theme');\n        const scrollBottom = this.pageWrap.scrollTop + document.getElementById('page__wrap').clientHeight - document.getElementById('page').clientHeight;\n        const scrollOffset = scrollBottom === 0 ? -1 : Math.abs(themeEl.getBoundingClientRect().top - 5) / window.innerHeight;\n        const isFirstTheme = themes[0].id === theme;\n\n        const isQuoteOne = document.getElementById(theme).getElementsByClassName('quote-one').length;\n        const isQuoteTwo = document.getElementById(theme).getElementsByClassName('quote-two').length;\n        \n        if (isFirstTheme) {\n            //Handle the first theme differently, because we have one extra scroll (stats panel)\n            if (scrollOffset == 0) {\n                heading.classList.add('display');\n                subheading.classList.add('display');\n\n                if (isQuoteOne) {\n                    quoteOne.classList.remove('display');\n                }\n\n                if (isQuoteTwo) {\n                    quoteTwo.classList.add('display');\n                }\n\n            } else if (scrollOffset == 1) {\n                heading.classList.add('display');\n                subheading.classList.remove('display');\n\n                if (isQuoteOne) {\n                    quoteOne.classList.add('display');\n                }\n\n                if (isQuoteTwo) {\n                    quoteTwo.classList.remove('display');\n                }\n\n            } else if (scrollOffset > 1) {\n                heading.classList.remove('display');\n                subheading.classList.remove('display');\n\n                if (isQuoteOne) {\n                    quoteOne.classList.remove('display');\n                }\n\n                if (isQuoteTwo) {\n                    quoteTwo.classList.remove('display');\n                }\n\n            }\n        } else if (themeEl.id != 'about-us') {\n            // For the rest of the themes...\n            if (scrollOffset == 0) {\n                heading.classList.add('display');\n                subheading.classList.add('display');\n\n                if (isQuoteTwo) {\n                    quoteTwo.classList.add('display');\n                }\n\n            } else if (scrollOffset > 0) {\n                heading.classList.remove('display');\n                subheading.classList.remove('display');\n\n                if (isQuoteTwo) {\n                    quoteTwo.classList.remove('display');\n                }\n\n            }\n        }\n    }\n\n    animateStats() {\n        if (!this.carousel) { return }\n       \n        const panels = document.querySelectorAll('.panels');\n\n        panels.forEach(panel => {\n            const stats = panel.querySelectorAll('.stat');\n           \n            stats.forEach(stat => {\n                this.isInViewport(panel) ? this._addClass(stat, 'stat--displayed') : this._removeClass(stat,'stat--displayed');\n            });\n        });\n    }\n\n    _addClass(elem, className) {\n        if (elem.classList.contains(className)) { return }\n        elem.classList.add(className);\n    }\n\n    _removeClass(elem, className) {\n        if (elem.classList.contains(className)) {\n            elem.classList.remove(className);\n        }\n        if (this.addClassTimeout) {\n            clearTimeout(this.timeoutClass);\n        }\n    }\n\n    isInViewport(elem) {\n        let rect = elem.getBoundingClientRect();\n        const top = rect.top;\n        const bottom = rect.bottom;\n        const height = bottom - top;\n        const topInView = top >= 0 && top < (height - 100) && bottom > height;\n        const bottomInView = top < 0 && bottom > 100 && bottom < height;\n        \n        return topInView || bottomInView;\n    }\n\n    animatePrograms() {\n        const containers = document.querySelectorAll('.programs-mobile');\n\n        containers.forEach(container => {\n            const programs = container.querySelectorAll('.program');\n\n            if ( this.isInViewport(container) && !this.isLocked ) {\n                this.isLocked = true;\n\n                programs.forEach((program, index) => {\n                    this.addClassTimeout = setTimeout(() => {\n                        this._addClass(program, 'program--show');\n                    }, (index + 1) * 250);  \n                });\n\n                setTimeout(() => {\n                    this.isLocked = false;\n                }, (programs.length + 1) * 250);\n                \n            } else if (!this.isLocked) {\n                programs.forEach(program => this._removeClass(program, 'program--show'));\n            }\n        });\n    }\n\n    //////////////////////////////////////////\n    //                EVENTS                //\n    //////////////////////////////////////////\n\n    onScroll() {\n        if (this.isSmoothScrolling) return;\n        if (!this.debounce) setTimeout(this.passiveScrollHandler, 100);\n    }\n\n    onPassiveScroll(Carousel) {\n        let theme;\n\n        // On first load, the section will not immediately be set, so find the first section\n        if (window.location.hash.substring(1) == '') {\n            theme = document.querySelector('[data-scroll-anchor]').name;\n        } else {\n            theme = window.location.hash.substring(1);\n        }\n        this.fixSectionHeading(theme);\n        this.animateStats();\n        this.animatePrograms();\n        this.debounce = null;\n    }\n\n    onCarouselNavClick(Carousel, e) {\n        Carousel.goTo(e.target.id);\n    }\n}\n\nclass Programs {\n\n    //////////////////////////////////////////\n    //            INITIALISATION            //\n    //////////////////////////////////////////\n\n    constructor() {\n        this.programs = this.initPrograms();\n    }\n\n    initPrograms() {\n        let programs = document.querySelectorAll('.flexbox-slide');\n\n        programs.forEach(program => {\n            let currentSlider = program.closest('.flexbox-slider');\n\n            program.addEventListener('click', this.onProgramClicked.bind(this, program, currentSlider));\n            program.addEventListener('mouseenter', this.onProgramHover.bind(this, program, currentSlider));\n        });\n\n        return programs;\n    }\n\n    initCloseProgram(openProgram) {\n        let closeButton = openProgram.querySelectorAll('.slide__inner-close');\n        let currentSlider = closeButton[0].closest('.flexbox-slider');\n\n        closeButton[0].addEventListener('click', this.onCloseClicked.bind(this, currentSlider));\n    }\n\n    changeBackground() {\n        this.currentSlider.style.backgroundImage = 'url(' + this.background +')';\n    }\n\n    //////////////////////////////////////////\n    //                EVENTS                //\n    //////////////////////////////////////////\n\n    onProgramClicked(clickedProgram, currentSlider) {\n        let programs = currentSlider.querySelectorAll('.flexbox-slide');\n        \n        currentSlider.classList.add('flexbox-slider--opened');\n\n        programs.forEach(program => {\n            if (program.classList.contains('flexbox-slide--active')) {\n                program.classList.remove('flexbox-slide--active');\n            }\n            if (program === clickedProgram) {\n                program.classList.add('flexbox-slide--active');\n            }\n        });\n\n        document.getElementById('navigation__dot').style.visibility=\"hidden\";\n        this.initCloseProgram(clickedProgram);\n    }\n\n    onProgramHover(hoveredProgram, currentSlider) {\n            this.background = hoveredProgram.getAttribute('data-image-src');\n            this.currentSlider = currentSlider;\n\n            setTimeout(() => this.changeBackground(), 500);\n    }\n\n    onCloseClicked(currentSlider, event) {\n        event.stopPropagation();\n\n        let programs = currentSlider.querySelectorAll('.flexbox-slide');\n        currentSlider.classList.remove('flexbox-slider--opened');\n        \n        programs.forEach(program => {\n            if (program.classList.contains('flexbox-slide--active')) {\n                program.classList.remove('flexbox-slide--active');\n            }\n        });\n\n        document.getElementById('navigation__dot').style.visibility=\"visible\";\n\n        this.stopVideos();\n    }\n\n    stopVideos() {\n        const videos = document.querySelectorAll('.video iframe');\n\n        if (!videos || !videos.length) {\n            return;\n        }\n\n        Array.prototype.forEach.call(videos, (el) => {\n            let el_src = el.src;\n\n            el.src = el_src;\n        });\n    }\n}\n\nclass MobilePrograms {\n\n    //////////////////////////////////////////\n    //            INITIALISATION            //\n    //////////////////////////////////////////\n\n    constructor() {\n        this.programs = this.initPrograms();\n        this.programContent = this.initProgramContent();\n    }\n\n    initPrograms() {\n        let programs = document.querySelectorAll('.programs-mobile .program');\n\n        programs.forEach(program => {\n            program.addEventListener('click', this.openProgram.bind(this, program));\n        });\n\n        return programs;\n    }\n\n    initProgramContent() {\n        let programContent = document.querySelectorAll('.programs-mobile .program__content');\n\n        programContent.forEach(program => {\n            program.addEventListener('click', this.closeAllPrograms.bind(this, program));\n        });\n\n        return programContent;\n    }\n\n    //////////////////////////////////////////\n    //                METHODS               //\n    //////////////////////////////////////////\n\n    closeAllPrograms() {\n        this.programs.forEach(program => {\n            program.classList.remove('open');\n        });\n\n        document.body.classList.remove('program--open');\n\n        this.stopVideos();\n    }\n\n    openProgram(program) {\n        program.classList.add('open');\n        document.body.classList.add('program--open');\n\n        this.currentProgram = program;\n    }\n\n    //////////////////////////////////////////\n    //                EVENTS                //\n    //////////////////////////////////////////\n\n    stopVideos() {\n        const videos = document.querySelectorAll('.video iframe');\n\n        if (!videos || !videos.length) {\n            return;\n        }\n\n        Array.prototype.forEach.call(videos, (el) => {\n            let el_src = el.src;\n\n            el.src = el_src;\n        });\n    }\n}\n\nvar smoothscroll$1 = createCommonjsModule(function (module, exports) {\n(function (root, smoothScroll) {\n  'use strict';\n\n  // Support RequireJS and CommonJS/NodeJS module formats.\n  // Attach smoothScroll to the `window` when executed as a <script>.\n\n  // RequireJS\n  if (typeof undefined === 'function' && undefined.amd) {\n    undefined(smoothScroll);\n\n  // CommonJS\n  } else {\n    module.exports = smoothScroll();\n\n  }\n\n})(commonjsGlobal, function(){\n'use strict';\n\n// Do not initialize smoothScroll when running server side, handle it in client:\nif (typeof window !== 'object') return;\n\n// We do not want this script to be applied in browsers that do not support those\n// That means no smoothscroll on IE9 and below.\nif(document.querySelectorAll === void 0 || window.pageYOffset === void 0 || history.pushState === void 0) { return; }\n\n// Get the top position of an element in the document\nvar getTop = function(element, start) {\n    // return value of html.getBoundingClientRect().top ... IE : 0, other browsers : -pageYOffset\n    if(element.nodeName === 'HTML') return -start\n    return element.getBoundingClientRect().top + start\n};\n// ease in out function thanks to:\n// http://blog.greweb.fr/2012/02/bezier-curve-based-easing-functions-from-concept-to-implementation/\nvar easeInOutCubic = function (t) { return t<.5 ? 4*t*t*t : (t-1)*(2*t-2)*(2*t-2)+1 };\n\n// calculate the scroll position we should be in\n// given the start and end point of the scroll\n// the time elapsed from the beginning of the scroll\n// and the total duration of the scroll (default 500ms)\nvar position = function(start, end, elapsed, duration) {\n    if (elapsed > duration) return end;\n    return start + (end - start) * easeInOutCubic(elapsed / duration); // <-- you can change the easing funtion there\n    // return start + (end - start) * (elapsed / duration); // <-- this would give a linear scroll\n};\n\n// we use requestAnimationFrame to be called by the browser before every repaint\n// if the first argument is an element then scroll to the top of this element\n// if the first argument is numeric then scroll to this location\n// if the callback exist, it is called when the scrolling is finished\n// if context is set then scroll that element, else scroll window\nvar smoothScroll = function(el, duration, callback, context){\n    duration = duration || 500;\n    context = context || window;\n    var start = context.scrollTop || window.pageYOffset;\n\n    if (typeof el === 'number') {\n      var end = parseInt(el);\n    } else {\n      var end = getTop(el, start);\n    }\n\n    var clock = Date.now();\n    var requestAnimationFrame = window.requestAnimationFrame ||\n        window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame ||\n        function(fn){window.setTimeout(fn, 15);};\n\n    var step = function(){\n        var elapsed = Date.now() - clock;\n        if (context !== window) {\n          context.scrollTop = position(start, end, elapsed, duration);\n        }\n        else {\n          window.scroll(0, position(start, end, elapsed, duration));\n        }\n\n        if (elapsed > duration) {\n            if (typeof callback === 'function') {\n                callback(el);\n            }\n        } else {\n            requestAnimationFrame(step);\n        }\n    };\n    step();\n};\n\nvar linkHandler = function(ev) {\n    if (!ev.defaultPrevented) {\n        ev.preventDefault();\n\n        if (location.hash !== this.hash) window.history.pushState(null, null, this.hash);\n        // using the history api to solve issue #1 - back doesn't work\n        // most browser don't update :target when the history api is used:\n        // THIS IS A BUG FROM THE BROWSERS.\n        // change the scrolling duration in this call\n        var node = document.getElementById(this.hash.substring(1));\n        if (!node) return; // Do not scroll to non-existing node\n\n        smoothScroll(node, 500, function (el) {\n            location.replace('#' + el.id);\n            // this will cause the :target to be activated.\n        });\n    }\n};\n\n// We look for all the internal links in the documents and attach the smoothscroll function\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    var internal = document.querySelectorAll('a[href^=\"#\"]:not([href=\"#\"])'), a;\n    for(var i=internal.length; a=internal[--i];){\n        a.addEventListener(\"click\", linkHandler, false);\n    }\n});\n\n// return smoothscroll API\nreturn smoothScroll;\n\n});\n});\n\nclass Tracking {\n\n    //////////////////////////////////////////\n    //            INITIALISATION            //\n    //////////////////////////////////////////\n\n    constructor() {\n        this.initLinkTracking();\n    }\n\n    initLinkTracking() {\n        let links = document.querySelectorAll('a[href]');\n        links.forEach((link) => link.addEventListener('click', this.onLinkClicked.bind(this)));\n    }\n\n\n    //////////////////////////////////////////\n    //                  API                 //\n    //////////////////////////////////////////\n\n    static trackEvent(category, action, label) {\n        console.log('Track event:', category, action, label);\n\n        if(!window.dataLayer) {\n            console.warn('Google Tag Manager data layer not found. Tracking may not be operational.');\n            window.dataLayer = [];\n            return;\n        }\n\n        window.dataLayer.push({\n            event: category,\n            eventAction: action,\n            eventLabel: label\n        });\n    }\n\n\n    //////////////////////////////////////////\n    //                EVENTS                //\n    //////////////////////////////////////////\n\n    onLinkClicked(event) {\n        Tracking.trackEvent('Link', 'click', event.currentTarget.name);\n    }\n}\n\nconst SHOW_MENU_CLASSNAME = 'menu--show';\nconst CURRENT_ITEM_CLASSNAME = 'current';\n\nclass Header {\n\n    //////////////////////////////////////////\n    //            INITIALISATION            //\n    //////////////////////////////////////////\n\n    constructor() {\n        this.oldScrollPosition = 0;\n        this.isScrollingActivated = true;\n        this.pageWrap = document.getElementById('page__wrap');\n        this.pageWrap.addEventListener('scroll', this.onScroll.bind(this));\n\n        this.pageWrap.addEventListener('mousewheel', this.onMouseWheel.bind(this));\n        this.pageWrap.addEventListener('touchstart', this.onTouchStart.bind(this));\n\n        this.initBurgerButton();\n        this.initSmoothScroll();\n        this.getCurrentSection();\n\n        this.passiveScrollHandler = this.onPassiveScroll.bind(this);\n\n        document.getElementById('header__home_button').addEventListener('click', this.onHomeClick.bind(this));\n\n        this.onScroll();\n    }\n\n    initBurgerButton() {\n        let buttons = document.querySelectorAll('[data-menu-button]');\n\n        buttons.forEach(button => {\n            button.onclick = () => document.body.classList.toggle(SHOW_MENU_CLASSNAME);\n        });\n    }\n\n    initSmoothScroll() {\n        let links = document.querySelectorAll('[data-smooth-scroll]');\n\n        this.smoothScrollLinkClickedHandler = this.onSmoothScrollLinkClicked.bind(this);\n\n        links.forEach((link) => {\n            link.addEventListener('click', this.smoothScrollLinkClickedHandler);\n        });\n    }\n\n    //////////////////////////////////////////\n    //                METHODS               //\n    //////////////////////////////////////////\n\n    getCurrentSection() {\n        let anchors = document.querySelectorAll('[data-scroll-anchor]');\n\n        let scrollTop = this.pageWrap.scrollTop;\n        if (scrollTop < 10) {\n            this.setCurrentItem(anchors[0]['name']);\n\n            return anchors[0];\n        } else {\n            for (let i = anchors.length - 1; i >= 0; i--) {\n                let anchor = anchors[i];\n\n                if (anchor.getBoundingClientRect().top <= 5) {\n                    this.setCurrentItem(anchor['name']);\n                    return anchor;\n                }\n            }\n        }\n    }\n\n    setCurrentItem(currentSection) {\n        let current = document.querySelectorAll(`[data-section=\"#${currentSection}\"]`);\n        let links = document.querySelectorAll('[data-smooth-scroll]');\n\n        links.forEach(function(element) {\n            element.classList.remove(CURRENT_ITEM_CLASSNAME);\n        });\n\n        current.forEach(function(element) {\n            element.classList.add(CURRENT_ITEM_CLASSNAME);\n        });\n    }\n\n    updateAnchorClass(currentSection) {\n        let classList = document.body.classList;\n        let themeColour = currentSection.dataset.themeColour;\n\n        classList.remove(this.anchorClass);\n\n        this.anchorClass = 'section--' + currentSection.name;\n\n        classList.add(this.anchorClass);\n\n        document.body.style.background = themeColour;\n        document.body.style.transition = 'background 0.5s';\n    }\n\n    updateURL(currentSection) {\n        history.replaceState('', '', '#' + currentSection.name);\n    }\n\n    //////////////////////////////////////////\n    //                EVENTS                //\n    //////////////////////////////////////////\n\n    onScroll(event) {\n        if (this.isSmoothScrolling) return;\n        if (!this.debounce) setTimeout(this.passiveScrollHandler, 100);\n    }\n\n    onPassiveScroll() {\n        let currentSection = this.getCurrentSection();\n\n        if(currentSection !== this.oldSection) {\n            this.updateURL(currentSection);\n            this.updateAnchorClass(currentSection);\n            Tracking.trackEvent('Section', 'scroll', currentSection.name);\n        }\n\n        this.oldSection = currentSection;\n        this.debounce = null;\n    }\n\n    onSmoothScrollLinkClicked(event) {\n        event.preventDefault();\n\n        document.body.classList.remove(SHOW_MENU_CLASSNAME);\n\n        let name = event.currentTarget['href'].split('#')[1];\n        let anchor = document.querySelectorAll(`a[name=${name}]`)[0];\n\n        smoothscroll$1(anchor, 750, null, this.pageWrap);\n    }\n\n    onMouseWheel() {\n        this.isSmoothScrolling = false;\n    }\n\n    onTouchStart() {\n        this.isSmoothScrolling = false;\n    }\n\n    onHomeClick() {\n        smoothscroll$1(0, 500, null, this.pageWrap);\n    }\n}\n\nclass Companies {\n    \n    //////////////////////////////////////////\n    //            INITIALISATION            //\n    //////////////////////////////////////////\n\n    constructor() {\n        if (document.querySelector('.companies__carousel') == null) {\n            return;\n        }\n\n        const siemaSelector = document.querySelector('.companies__carousel');\n        const siemaSelectorItems = siemaSelector.children.length;\n\n        const CompaniesCarousel = new Siema({\n            selector: siemaSelector,\n            loop: true,\n            duration: 400,\n            perPage: {\n                0: 1,\n                960: siemaSelectorItems >= 3 ? 3 : siemaSelectorItems,\n            }\n        });\n\n        setInterval(() => CompaniesCarousel.next(), 3000);\n    }\n}\n\nclass Scrolling {\n\n    //////////////////////////////////////////\n    //            INITIALISATION            //\n    //////////////////////////////////////////\n\n    constructor() {\n        this.isScrollingActivated = true;\n        this.pageEl = document.getElementById('page');\n        this.pageWrap = document.getElementById('page__wrap');\n        this.header = document.getElementById('header');\n        this.isMobile = window.innerWidth <= 960;\n\n        this.currentScrollPos = 0;\n        this.oldScrollPosition = 0;\n\n        this.pageWrap.addEventListener('wheel', this.onWheel.bind(this));\n        this.pageWrap.addEventListener('scroll', this.onScroll.bind(this));\n\n        if (this.isMobile) {\n            this._initSectionAnchorsForMobile();\n        }\n\n        this.passiveScrollHandler = this.onPassiveScroll.bind(this);\n\n        // Exception for scrolling freely on the overflow areas of the accordian\n        let scrollableElements = document.querySelectorAll('.slide__inner-container-scroll');\n        scrollableElements.forEach((el) => {\n            el.addEventListener('wheel', this.onScrollableElementWheel.bind(this));\n        });\n\n        // Handle citation clicks differently so as not to disrupt the navigation elements\n        let citations = document.querySelectorAll('.stat__cite_link');\n        citations.forEach((el) => {\n            el.addEventListener('click', this.onCitationClick.bind(this));\n        });\n\n        // Down Arrow stuff\n        this.discoverMoreEl = document.querySelectorAll('.down')[0];\n        this.discoverMoreEl.addEventListener('click', this.onDiscoverMoreClicked.bind(this));\n        this.showHideDiscoverMore();\n        this.progressPageHandler = this.progressPage.bind(this);\n    }\n\n    //////////////////////////////////////////\n    //                METHODS               //\n    //////////////////////////////////////////\n    _initSectionAnchorsForMobile() {\n        const sections = document.querySelectorAll(\"#sections_wrapper > div[id*='section']\");\n        let sectionAnchors = [];\n\n        sections.forEach(({id}) => sectionAnchors.push(id));\n        \n        if (sectionAnchors.length > 0) {\n            this.sectionAnchors = sectionAnchors;\n            this.activeSection = sectionAnchors[0];\n            sections[0].classList.add('section--active');\n        }\n    }\n\n    _scrollTo(anchor) {\n        const scrollToElem = document.getElementById(anchor);\n        const currentlyActiveSection = document.getElementsByClassName('section--active')[0];\n        const isLastSection = anchor === this.sectionAnchors[this.sectionAnchors.length - 1];\n\n        if (!currentlyActiveSection) return;\n\n        scrollToElem.scrollIntoView({ \n            behavior: 'smooth',\n            block: \"start\", \n            inline: \"nearest\"\n        });\n\n        scrollToElem.classList.add('section--active');\n        currentlyActiveSection.classList.remove('section--active');\n\n        // hide down arrow on initial scroll into last section\n        if (isLastSection) {\n            setTimeout(() => {\n                this.discoverMoreEl.classList.add('down--hide');\n            }, 800);\n        }\n    }\n\n    _scrollToNext() {\n        if (!this.sectionAnchors) {\n            this._initSectionAnchorsForMobile();\n        }\n\n        const activeSection = document.getElementsByClassName('section--active')[0];\n        let nextSection = this.sectionAnchors[this.sectionAnchors.indexOf(activeSection.id) + 1];\n\n        if (!nextSection) {\n            nextSection = this.sectionAnchors[0];\n        }\n        \n        this._scrollTo(nextSection);\n    }\n\n    _downScroll(scrollBy) {\n        const scrollToPos = this.pageWrap.scrollTop + scrollBy;\n\n        this._deactivateScrolling();\n\n        if (!this.isScrollingActivated) {\n            smoothscroll$1(scrollToPos, 500, null, this.pageWrap);\n        }\n\n        setTimeout(() => {\n            this._activateScrolling();\n            this.showHideDiscoverMore();\n            this.oldScrollPosition = this.pageWrap.scrollTop;\n        }, 750);\n    }\n\n    _upScroll(scrollBy) {\n        const scrollToPos = this.pageWrap.scrollTop - scrollBy;\n\n        this._deactivateScrolling();\n\n        if (!this.isScrollingActivated) {\n            smoothscroll$1(scrollToPos, 500, null, this.pageWrap);\n        }\n\n        this.oldScrollPosition = this.pageWrap.scrollTop;\n\n        setTimeout(() => {\n            this._activateScrolling();\n            this.showHideDiscoverMore();\n            this.oldScrollPosition = this.pageWrap.scrollTop;\n        }, 750);\n    }\n\n    _deactivateScrolling() {\n        this.isScrollingActivated = false;\n    }\n\n    _activateScrolling() {\n        this.isScrollingActivated = true;\n    }\n\n    showHideDiscoverMore() {\n        const isAtBottom = (this.pageWrap.scrollHeight - this.pageWrap.scrollTop === this.pageWrap.clientHeight);\n        \n        if (isAtBottom) {\n            this.discoverMoreEl.classList.add('down--hide');\n        } else {\n            this.discoverMoreEl.classList.remove('down--hide');\n        }\n    }\n\n    progressPage() {\n        this.pageWrap.scrollBy({\n            top: window.innerHeight,\n            left: 0,\n            behavior: 'smooth'\n        });\n\n        setTimeout(() => {\n            this.showHideDiscoverMore();\n        }, 750);\n    }\n\n    //////////////////////////////////////////\n    //               EVENTS                 //\n    //////////////////////////////////////////\n\n    onWheel(event) {\n        event.preventDefault();\n\n        this.overScroll = event.deltaY;\n\n        //Always ensure the navigation dot menu reappears if it's hidden\n        //e.g. in the expanded accordian\n        document.getElementById('navigation__dot').style.visibility=\"visible\";\n\n        if (!this.isScrollingActivated) return;\n        if (!this.debounce) setTimeout(this.passiveScrollHandler, 100);\n    }\n\n    onScrollableElementWheel(event) {\n        event.stopPropagation();\n    }\n\n    onPassiveScroll() {\n        const isAtBottom = (this.pageWrap.scrollHeight - this.pageWrap.scrollTop === this.pageWrap.clientHeight);\n        const footerHeight = document.querySelector('footer').clientHeight;\n        const onlyPartnersSection = document.querySelector('.about__facebook') === null && document.querySelector('.about__companies') !== null;\n        let partnersHeight = 0;\n\n        if ( document.getElementById('companies') ) {\n            partnersHeight = document.getElementById('companies').clientHeight;\n        }\n        \n        // Checks whether the Partners (logos) section is visible but not the About Us section\n        // and changes the final scrollup height accordingly, as the Partners section isn't 100vh.\n        if (isAtBottom && onlyPartnersSection && this.overScroll <= -20) {\n            this._upScroll(footerHeight + partnersHeight + 10);\n        } else if (isAtBottom && !onlyPartnersSection && this.overScroll <= -20) {\n            this._upScroll(footerHeight + 10);\n        }\n\n        if (this.isScrollingActivated) {\n            if (this.overScroll >= 20 && !isAtBottom) {\n                this._downScroll(window.innerHeight);\n            } else if (this.overScroll <= -20 && !isAtBottom) {\n                this._upScroll(window.innerHeight);\n            } else {\n                return;\n            }\n        }\n\n        if (isAtBottom) {\n            this.discoverMoreEl.classList.add('discover--hide');\n        } else {\n            this.discoverMoreEl.classList.remove('discover--hide');\n        }\n\n        this.debounce = null;\n    }\n\n    onScroll() {\n        this.currentScrollPos = this.pageWrap.scrollTop;\n\n        const scrollDelta = this.currentScrollPos - this.lastScrollPos;\n\n        if (this.currentScrollPos > window.innerHeight) {\n            this.header.classList.add('white');\n        } else {\n            this.header.classList.remove('white');\n        }\n\n        if (scrollDelta > 0) {\n            this.header.classList.add('hide');\n        } else if (scrollDelta < -10) {\n            this.header.classList.remove('hide');\n        }\n\n        this.lastScrollPos = this.pageWrap.scrollTop;\n        \n        if (this.isMobile) this.showHideDiscoverMore();\n    }\n\n    onCitationClick() {\n        const scrollToBottom = this.pageEl.scrollTop + this.pageEl.clientHeight;\n        \n        event.preventDefault();\n        smoothscroll$1(scrollToBottom, 500, null, this.pageWrap);\n    }\n\n    onDiscoverMoreClicked() {\n        this.isMobile ? this._scrollToNext() : setTimeout(this.progressPageHandler, 100);\n    }\n}\n\n/**\n * App - Main application\n */\nclass App {\n\n    /**\n     * constructor - Create instance of Application\n     */\n    constructor() {\n        new Scrolling();\n        new Section();\n        new Programs();\n        new MobilePrograms();\n        new Header();\n        new Companies();\n    }\n}\n\nnew App();\n\n}());\n","if (window.NodeList && !NodeList.prototype.forEach) {\n    NodeList.prototype.forEach = function (callback, thisArg) {\n        thisArg = thisArg || window;\n        for (var i = 0; i < this.length; i++) {\n            callback.call(thisArg, this[i], i, this);\n        }\n    };\n}\n\n/**\n * Element.closest() polyfill\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\n */\nif (!Element.prototype.closest) {\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\tElement.prototype.closest = function (s) {\n\t\tvar el = this;\n\t\tvar ancestor = this;\n\t\tif (!document.documentElement.contains(el)) return null;\n\t\tdo {\n\t\t\tif (ancestor.matches(s)) return ancestor;\n\t\t\tancestor = ancestor.parentElement;\n\t\t} while (ancestor !== null);\n\t\treturn null;\n\t};\n}","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"Siema\",[],t):\"object\"==typeof exports?exports.Siema=t():e.Siema=t()}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,\"a\",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=0)}([function(e,t,i){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),l=function(){function e(t){var i=this;if(r(this,e),this.config=e.mergeSettings(t),this.selector=\"string\"==typeof this.config.selector?document.querySelector(this.config.selector):this.config.selector,null===this.selector)throw new Error(\"Something wrong with your selector 😭\");this.resolveSlidesNumber(),this.selectorWidth=this.selector.offsetWidth,this.innerElements=[].slice.call(this.selector.children),this.currentSlide=this.config.loop?this.config.startIndex%this.innerElements.length:Math.max(0,Math.min(this.config.startIndex,this.innerElements.length-this.perPage)),this.transformProperty=e.webkitOrNot(),[\"resizeHandler\",\"touchstartHandler\",\"touchendHandler\",\"touchmoveHandler\",\"mousedownHandler\",\"mouseupHandler\",\"mouseleaveHandler\",\"mousemoveHandler\",\"clickHandler\"].forEach(function(e){i[e]=i[e].bind(i)}),this.init()}return s(e,[{key:\"attachEvents\",value:function(){window.addEventListener(\"resize\",this.resizeHandler),this.config.draggable&&(this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:!1},this.selector.addEventListener(\"touchstart\",this.touchstartHandler),this.selector.addEventListener(\"touchend\",this.touchendHandler),this.selector.addEventListener(\"touchmove\",this.touchmoveHandler),this.selector.addEventListener(\"mousedown\",this.mousedownHandler),this.selector.addEventListener(\"mouseup\",this.mouseupHandler),this.selector.addEventListener(\"mouseleave\",this.mouseleaveHandler),this.selector.addEventListener(\"mousemove\",this.mousemoveHandler),this.selector.addEventListener(\"click\",this.clickHandler))}},{key:\"detachEvents\",value:function(){window.removeEventListener(\"resize\",this.resizeHandler),this.selector.removeEventListener(\"touchstart\",this.touchstartHandler),this.selector.removeEventListener(\"touchend\",this.touchendHandler),this.selector.removeEventListener(\"touchmove\",this.touchmoveHandler),this.selector.removeEventListener(\"mousedown\",this.mousedownHandler),this.selector.removeEventListener(\"mouseup\",this.mouseupHandler),this.selector.removeEventListener(\"mouseleave\",this.mouseleaveHandler),this.selector.removeEventListener(\"mousemove\",this.mousemoveHandler),this.selector.removeEventListener(\"click\",this.clickHandler)}},{key:\"init\",value:function(){this.attachEvents(),this.selector.style.overflow=\"hidden\",this.selector.style.direction=this.config.rtl?\"rtl\":\"ltr\",this.buildSliderFrame(),this.config.onInit.call(this)}},{key:\"buildSliderFrame\",value:function(){var e=this.selectorWidth/this.perPage,t=this.config.loop?this.innerElements.length+2*this.perPage:this.innerElements.length;this.sliderFrame=document.createElement(\"div\"),this.sliderFrame.style.width=e*t+\"px\",this.enableTransition(),this.config.draggable&&(this.selector.style.cursor=\"-webkit-grab\");var i=document.createDocumentFragment();if(this.config.loop)for(var r=this.innerElements.length-this.perPage;r<this.innerElements.length;r++){var n=this.buildSliderFrameItem(this.innerElements[r].cloneNode(!0));i.appendChild(n)}for(var s=0;s<this.innerElements.length;s++){var l=this.buildSliderFrameItem(this.innerElements[s]);i.appendChild(l)}if(this.config.loop)for(var o=0;o<this.perPage;o++){var a=this.buildSliderFrameItem(this.innerElements[o].cloneNode(!0));i.appendChild(a)}this.sliderFrame.appendChild(i),this.selector.innerHTML=\"\",this.selector.appendChild(this.sliderFrame),this.slideToCurrent()}},{key:\"buildSliderFrameItem\",value:function(e){var t=document.createElement(\"div\");return t.style.cssFloat=this.config.rtl?\"right\":\"left\",t.style.float=this.config.rtl?\"right\":\"left\",t.style.width=(this.config.loop?100/(this.innerElements.length+2*this.perPage):100/this.innerElements.length)+\"%\",t.appendChild(e),t}},{key:\"resolveSlidesNumber\",value:function(){if(\"number\"==typeof this.config.perPage)this.perPage=this.config.perPage;else if(\"object\"===n(this.config.perPage)){this.perPage=1;for(var e in this.config.perPage)window.innerWidth>=e&&(this.perPage=this.config.perPage[e])}}},{key:\"prev\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var i=this.currentSlide;if(this.config.loop){if(this.currentSlide-e<0){this.disableTransition();var r=this.currentSlide+this.innerElements.length,n=this.perPage,s=r+n,l=(this.config.rtl?1:-1)*s*(this.selectorWidth/this.perPage),o=this.config.draggable?this.drag.endX-this.drag.startX:0;this.sliderFrame.style[this.transformProperty]=\"translate3d(\"+(l+o)+\"px, 0, 0)\",this.currentSlide=r-e}else this.currentSlide=this.currentSlide-e}else this.currentSlide=Math.max(this.currentSlide-e,0);i!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),t&&t.call(this))}}},{key:\"next\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var i=this.currentSlide;if(this.config.loop){if(this.currentSlide+e>this.innerElements.length-this.perPage){this.disableTransition();var r=this.currentSlide-this.innerElements.length,n=this.perPage,s=r+n,l=(this.config.rtl?1:-1)*s*(this.selectorWidth/this.perPage),o=this.config.draggable?this.drag.endX-this.drag.startX:0;this.sliderFrame.style[this.transformProperty]=\"translate3d(\"+(l+o)+\"px, 0, 0)\",this.currentSlide=r+e}else this.currentSlide=this.currentSlide+e}else this.currentSlide=Math.min(this.currentSlide+e,this.innerElements.length-this.perPage);i!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),t&&t.call(this))}}},{key:\"disableTransition\",value:function(){this.sliderFrame.style.webkitTransition=\"all 0ms \"+this.config.easing,this.sliderFrame.style.transition=\"all 0ms \"+this.config.easing}},{key:\"enableTransition\",value:function(){this.sliderFrame.style.webkitTransition=\"all \"+this.config.duration+\"ms \"+this.config.easing,this.sliderFrame.style.transition=\"all \"+this.config.duration+\"ms \"+this.config.easing}},{key:\"goTo\",value:function(e,t){if(!(this.innerElements.length<=this.perPage)){var i=this.currentSlide;this.currentSlide=this.config.loop?e%this.innerElements.length:Math.min(Math.max(e,0),this.innerElements.length-this.perPage),i!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),t&&t.call(this))}}},{key:\"slideToCurrent\",value:function(e){var t=this,i=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,r=(this.config.rtl?1:-1)*i*(this.selectorWidth/this.perPage);e?requestAnimationFrame(function(){requestAnimationFrame(function(){t.enableTransition(),t.sliderFrame.style[t.transformProperty]=\"translate3d(\"+r+\"px, 0, 0)\"})}):this.sliderFrame.style[this.transformProperty]=\"translate3d(\"+r+\"px, 0, 0)\"}},{key:\"updateAfterDrag\",value:function(){var e=(this.config.rtl?-1:1)*(this.drag.endX-this.drag.startX),t=Math.abs(e),i=this.config.multipleDrag?Math.ceil(t/(this.selectorWidth/this.perPage)):1,r=e>0&&this.currentSlide-i<0,n=e<0&&this.currentSlide+i>this.innerElements.length-this.perPage;e>0&&t>this.config.threshold&&this.innerElements.length>this.perPage?this.prev(i):e<0&&t>this.config.threshold&&this.innerElements.length>this.perPage&&this.next(i),this.slideToCurrent(r||n)}},{key:\"resizeHandler\",value:function(){this.resolveSlidesNumber(),this.currentSlide+this.perPage>this.innerElements.length&&(this.currentSlide=this.innerElements.length<=this.perPage?0:this.innerElements.length-this.perPage),this.selectorWidth=this.selector.offsetWidth,this.buildSliderFrame()}},{key:\"clearDrag\",value:function(){this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:this.drag.preventClick}}},{key:\"touchstartHandler\",value:function(e){-1!==[\"TEXTAREA\",\"OPTION\",\"INPUT\",\"SELECT\"].indexOf(e.target.nodeName)||(e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.touches[0].pageX,this.drag.startY=e.touches[0].pageY)}},{key:\"touchendHandler\",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:\"touchmoveHandler\",value:function(e){if(e.stopPropagation(),null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-e.touches[0].pageY)<Math.abs(this.drag.startX-e.touches[0].pageX)),this.pointerDown&&this.drag.letItGo){e.preventDefault(),this.drag.endX=e.touches[0].pageX,this.sliderFrame.style.webkitTransition=\"all 0ms \"+this.config.easing,this.sliderFrame.style.transition=\"all 0ms \"+this.config.easing;var t=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,i=t*(this.selectorWidth/this.perPage),r=this.drag.endX-this.drag.startX,n=this.config.rtl?i+r:i-r;this.sliderFrame.style[this.transformProperty]=\"translate3d(\"+(this.config.rtl?1:-1)*n+\"px, 0, 0)\"}}},{key:\"mousedownHandler\",value:function(e){-1!==[\"TEXTAREA\",\"OPTION\",\"INPUT\",\"SELECT\"].indexOf(e.target.nodeName)||(e.preventDefault(),e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.pageX)}},{key:\"mouseupHandler\",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.selector.style.cursor=\"-webkit-grab\",this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:\"mousemoveHandler\",value:function(e){if(e.preventDefault(),this.pointerDown){\"A\"===e.target.nodeName&&(this.drag.preventClick=!0),this.drag.endX=e.pageX,this.selector.style.cursor=\"-webkit-grabbing\",this.sliderFrame.style.webkitTransition=\"all 0ms \"+this.config.easing,this.sliderFrame.style.transition=\"all 0ms \"+this.config.easing;var t=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,i=t*(this.selectorWidth/this.perPage),r=this.drag.endX-this.drag.startX,n=this.config.rtl?i+r:i-r;this.sliderFrame.style[this.transformProperty]=\"translate3d(\"+(this.config.rtl?1:-1)*n+\"px, 0, 0)\"}}},{key:\"mouseleaveHandler\",value:function(e){this.pointerDown&&(this.pointerDown=!1,this.selector.style.cursor=\"-webkit-grab\",this.drag.endX=e.pageX,this.drag.preventClick=!1,this.enableTransition(),this.updateAfterDrag(),this.clearDrag())}},{key:\"clickHandler\",value:function(e){this.drag.preventClick&&e.preventDefault(),this.drag.preventClick=!1}},{key:\"remove\",value:function(e,t){if(e<0||e>=this.innerElements.length)throw new Error(\"Item to remove doesn't exist 😭\");var i=e<this.currentSlide,r=this.currentSlide+this.perPage-1===e;(i||r)&&this.currentSlide--,this.innerElements.splice(e,1),this.buildSliderFrame(),t&&t.call(this)}},{key:\"insert\",value:function(e,t,i){if(t<0||t>this.innerElements.length+1)throw new Error(\"Unable to inset it at this index 😭\");if(-1!==this.innerElements.indexOf(e))throw new Error(\"The same item in a carousel? Really? Nope 😭\");var r=t<=this.currentSlide>0&&this.innerElements.length;this.currentSlide=r?this.currentSlide+1:this.currentSlide,this.innerElements.splice(t,0,e),this.buildSliderFrame(),i&&i.call(this)}},{key:\"prepend\",value:function(e,t){this.insert(e,0),t&&t.call(this)}},{key:\"append\",value:function(e,t){this.insert(e,this.innerElements.length+1),t&&t.call(this)}},{key:\"destroy\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(this.detachEvents(),this.selector.style.cursor=\"auto\",e){for(var i=document.createDocumentFragment(),r=0;r<this.innerElements.length;r++)i.appendChild(this.innerElements[r]);this.selector.innerHTML=\"\",this.selector.appendChild(i),this.selector.removeAttribute(\"style\")}t&&t.call(this)}}],[{key:\"mergeSettings\",value:function(e){var t={selector:\".siema\",duration:200,easing:\"ease-out\",perPage:1,startIndex:0,draggable:!0,multipleDrag:!0,threshold:20,loop:!1,rtl:!1,onInit:function(){},onChange:function(){}},i=e;for(var r in i)t[r]=i[r];return t}},{key:\"webkitOrNot\",value:function(){return\"string\"==typeof document.documentElement.style.transform?\"transform\":\"WebkitTransform\"}}]),e}();t.default=l,e.exports=t.default}])});","import Siema from 'siema';\n\nexport default class Section {\n\n    //////////////////////////////////////////\n    //            INITIALISATION            //\n    //////////////////////////////////////////\n\n    constructor() {\n\n        const Carousel = new Siema({\n            selector: '.stats__carousel',\n            loop: true,\n            duration: 400,\n            onChange: () => this.setActiveNavItem(Carousel),\n            perPage: {\n                0: 1,\n                480: 2\n            }\n        });\n\n        this.carousel = Carousel;\n        this.initCarouselNav(Carousel);\n        this.pageWrap = document.getElementById('page__wrap');\n        this.pageWrap.addEventListener('scroll', this.onScroll.bind(this));\n        this.passiveScrollHandler = this.onPassiveScroll.bind(this);\n        this.isLocked = false;\n\n        this.autoPlay();\n        this.onScroll();\n    }\n\n    autoPlay() {\n        this.timeOut = setTimeout(() => this.carousel.next(), 7000);\n    }\n\n    initCarouselNav(Carousel) {\n        const carouselNav = document.querySelector('.stats__carousel--nav');\n        let slides = Carousel.selector.firstChild.children;\n\n        if (window.innerWidth <= 480) {\n            for (let i=0; i<slides.length-2; i++) {\n                carouselNav.innerHTML += `<div class=\"stats__carousel--nav-item\"></div>`;\n            }\n        } else {\n            if (slides.length > 6) {\n                for (let i=0; i<slides.length-4; i++) {\n                    carouselNav.innerHTML += `<div class=\"stats__carousel--nav-item\"></div>`;\n                }\n            }\n        }\n\n        let carouselNavItems = document.querySelectorAll('.stats__carousel--nav-item');\n\n        carouselNavItems.forEach((navItem, i) => {\n            navItem.id = i;\n            navItem.addEventListener('click', this.onCarouselNavClick.bind(this, Carousel));\n        });\n\n        this.setActiveNavItem(Carousel, carouselNavItems);\n    }\n\n    setActiveNavItem(Carousel) {\n        let carouselNavItems = document.querySelectorAll('.stats__carousel--nav-item');\n        let currentSlide;\n\n        clearTimeout(this.timeOut);\n\n        if (carouselNavItems.length > 0) {\n            if (Carousel.currentSlide < 0) {\n                currentSlide = carouselNavItems.length - 1;\n            } else {\n                currentSlide = Carousel.currentSlide;\n            }\n            \n            let activeNavItem = carouselNavItems[currentSlide];\n\n            carouselNavItems.forEach(navItem => {\n                if (navItem.classList.contains('active')) {\n                    navItem.classList.remove('active');\n                }\n            });\n\n            activeNavItem.classList.add('active');\n        }\n\n        this.autoPlay();\n    }\n\n    //////////////////////////////////////////\n    //                METHODS               //\n    //////////////////////////////////////////\n\n    fixSectionHeading(theme) {\n\n        //This could do with some tidying up, but it does the job, sort of...\n\n        const heading = document.getElementById(theme).getElementsByClassName('section__heading')[0];\n        const subheading = document.getElementById(theme).getElementsByClassName('section__subheading')[0];\n        const quoteOne = document.getElementById(theme).getElementsByClassName('quote-one')[0];\n        const quoteTwo = document.getElementById(theme).getElementsByClassName('quote-two')[0];\n        const themeEl = document.getElementById(theme);        \n        const themes = document.querySelectorAll('.theme');\n        const scrollBottom = this.pageWrap.scrollTop + document.getElementById('page__wrap').clientHeight - document.getElementById('page').clientHeight;\n        const scrollOffset = scrollBottom === 0 ? -1 : Math.abs(themeEl.getBoundingClientRect().top - 5) / window.innerHeight;\n        const isFirstTheme = themes[0].id === theme;\n\n        const isQuoteOne = document.getElementById(theme).getElementsByClassName('quote-one').length;\n        const isQuoteTwo = document.getElementById(theme).getElementsByClassName('quote-two').length;\n        \n        if (isFirstTheme) {\n            //Handle the first theme differently, because we have one extra scroll (stats panel)\n            if (scrollOffset == 0) {\n                heading.classList.add('display');\n                subheading.classList.add('display');\n\n                if (isQuoteOne) {\n                    quoteOne.classList.remove('display');\n                }\n\n                if (isQuoteTwo) {\n                    quoteTwo.classList.add('display');\n                }\n\n            } else if (scrollOffset == 1) {\n                heading.classList.add('display');\n                subheading.classList.remove('display');\n\n                if (isQuoteOne) {\n                    quoteOne.classList.add('display');\n                }\n\n                if (isQuoteTwo) {\n                    quoteTwo.classList.remove('display');\n                }\n\n            } else if (scrollOffset > 1) {\n                heading.classList.remove('display');\n                subheading.classList.remove('display');\n\n                if (isQuoteOne) {\n                    quoteOne.classList.remove('display');\n                }\n\n                if (isQuoteTwo) {\n                    quoteTwo.classList.remove('display');\n                }\n\n            }\n        } else if (themeEl.id != 'about-us') {\n            // For the rest of the themes...\n            if (scrollOffset == 0) {\n                heading.classList.add('display');\n                subheading.classList.add('display');\n\n                if (isQuoteTwo) {\n                    quoteTwo.classList.add('display');\n                }\n\n            } else if (scrollOffset > 0) {\n                heading.classList.remove('display');\n                subheading.classList.remove('display');\n\n                if (isQuoteTwo) {\n                    quoteTwo.classList.remove('display');\n                }\n\n            }\n        }\n    }\n\n    animateStats() {\n        if (!this.carousel) { return };\n       \n        const panels = document.querySelectorAll('.panels');\n\n        panels.forEach(panel => {\n            const stats = panel.querySelectorAll('.stat');\n           \n            stats.forEach(stat => {\n                this.isInViewport(panel) ? this._addClass(stat, 'stat--displayed') : this._removeClass(stat,'stat--displayed');\n            })\n        });\n    }\n\n    _addClass(elem, className) {\n        if (elem.classList.contains(className)) { return };\n        elem.classList.add(className);\n    }\n\n    _removeClass(elem, className) {\n        if (elem.classList.contains(className)) {\n            elem.classList.remove(className);\n        }\n        if (this.addClassTimeout) {\n            clearTimeout(this.timeoutClass);\n        }\n    }\n\n    isInViewport(elem) {\n        let rect = elem.getBoundingClientRect();\n        const top = rect.top;\n        const bottom = rect.bottom;\n        const height = bottom - top;\n        const topInView = top >= 0 && top < (height - 100) && bottom > height;\n        const bottomInView = top < 0 && bottom > 100 && bottom < height;\n        \n        return topInView || bottomInView;\n    }\n\n    animatePrograms() {\n        const containers = document.querySelectorAll('.programs-mobile');\n\n        containers.forEach(container => {\n            const programs = container.querySelectorAll('.program');\n\n            if ( this.isInViewport(container) && !this.isLocked ) {\n                this.isLocked = true;\n\n                programs.forEach((program, index) => {\n                    this.addClassTimeout = setTimeout(() => {\n                        this._addClass(program, 'program--show');\n                    }, (index + 1) * 250);  \n                });\n\n                setTimeout(() => {\n                    this.isLocked = false;\n                }, (programs.length + 1) * 250);\n                \n            } else if (!this.isLocked) {\n                programs.forEach(program => this._removeClass(program, 'program--show'));\n            }\n        });\n    }\n\n    //////////////////////////////////////////\n    //                EVENTS                //\n    //////////////////////////////////////////\n\n    onScroll() {\n        if (this.isSmoothScrolling) return;\n        if (!this.debounce) setTimeout(this.passiveScrollHandler, 100);\n    }\n\n    onPassiveScroll(Carousel) {\n        let theme;\n\n        // On first load, the section will not immediately be set, so find the first section\n        if (window.location.hash.substring(1) == '') {\n            theme = document.querySelector('[data-scroll-anchor]').name;\n        } else {\n            theme = window.location.hash.substring(1);\n        }\n        this.fixSectionHeading(theme);\n        this.animateStats();\n        this.animatePrograms();\n        this.debounce = null;\n    }\n\n    onCarouselNavClick(Carousel, e) {\n        Carousel.goTo(e.target.id);\n    }\n}\n","export default class Programs {\n\n    //////////////////////////////////////////\n    //            INITIALISATION            //\n    //////////////////////////////////////////\n\n    constructor() {\n        this.programs = this.initPrograms();\n    }\n\n    initPrograms() {\n        let programs = document.querySelectorAll('.flexbox-slide');\n\n        programs.forEach(program => {\n            let currentSlider = program.closest('.flexbox-slider');\n\n            program.addEventListener('click', this.onProgramClicked.bind(this, program, currentSlider));\n            program.addEventListener('mouseenter', this.onProgramHover.bind(this, program, currentSlider));\n        });\n\n        return programs;\n    }\n\n    initCloseProgram(openProgram) {\n        let closeButton = openProgram.querySelectorAll('.slide__inner-close');\n        let currentSlider = closeButton[0].closest('.flexbox-slider');\n\n        closeButton[0].addEventListener('click', this.onCloseClicked.bind(this, currentSlider));\n    }\n\n    changeBackground() {\n        this.currentSlider.style.backgroundImage = 'url(' + this.background +')';\n    }\n\n    //////////////////////////////////////////\n    //                EVENTS                //\n    //////////////////////////////////////////\n\n    onProgramClicked(clickedProgram, currentSlider) {\n        let programs = currentSlider.querySelectorAll('.flexbox-slide');\n        \n        currentSlider.classList.add('flexbox-slider--opened');\n\n        programs.forEach(program => {\n            if (program.classList.contains('flexbox-slide--active')) {\n                program.classList.remove('flexbox-slide--active');\n            }\n            if (program === clickedProgram) {\n                program.classList.add('flexbox-slide--active');\n            }\n        });\n\n        document.getElementById('navigation__dot').style.visibility=\"hidden\";\n        this.initCloseProgram(clickedProgram);\n    }\n\n    onProgramHover(hoveredProgram, currentSlider) {\n            this.background = hoveredProgram.getAttribute('data-image-src');\n            this.currentSlider = currentSlider;\n\n            setTimeout(() => this.changeBackground(), 500);\n    }\n\n    onCloseClicked(currentSlider, event) {\n        event.stopPropagation();\n\n        let programs = currentSlider.querySelectorAll('.flexbox-slide');\n        currentSlider.classList.remove('flexbox-slider--opened');\n        \n        programs.forEach(program => {\n            if (program.classList.contains('flexbox-slide--active')) {\n                program.classList.remove('flexbox-slide--active');\n            }\n        })\n\n        document.getElementById('navigation__dot').style.visibility=\"visible\";\n\n        this.stopVideos();\n    }\n\n    stopVideos() {\n        const videos = document.querySelectorAll('.video iframe');\n\n        if (!videos || !videos.length) {\n            return;\n        }\n\n        Array.prototype.forEach.call(videos, (el) => {\n            let el_src = el.src;\n\n            el.src = el_src;\n        });\n    }\n}\n","export default class MobilePrograms {\n\n    //////////////////////////////////////////\n    //            INITIALISATION            //\n    //////////////////////////////////////////\n\n    constructor() {\n        this.programs = this.initPrograms();\n        this.programContent = this.initProgramContent();\n    }\n\n    initPrograms() {\n        let programs = document.querySelectorAll('.programs-mobile .program');\n\n        programs.forEach(program => {\n            program.addEventListener('click', this.openProgram.bind(this, program));\n        });\n\n        return programs;\n    }\n\n    initProgramContent() {\n        let programContent = document.querySelectorAll('.programs-mobile .program__content');\n\n        programContent.forEach(program => {\n            program.addEventListener('click', this.closeAllPrograms.bind(this, program));\n        });\n\n        return programContent;\n    }\n\n    //////////////////////////////////////////\n    //                METHODS               //\n    //////////////////////////////////////////\n\n    closeAllPrograms() {\n        this.programs.forEach(program => {\n            program.classList.remove('open');\n        })\n\n        document.body.classList.remove('program--open');\n\n        this.stopVideos();\n    }\n\n    openProgram(program) {\n        program.classList.add('open');\n        document.body.classList.add('program--open');\n\n        this.currentProgram = program;\n    }\n\n    //////////////////////////////////////////\n    //                EVENTS                //\n    //////////////////////////////////////////\n\n    stopVideos() {\n        const videos = document.querySelectorAll('.video iframe');\n\n        if (!videos || !videos.length) {\n            return;\n        }\n\n        Array.prototype.forEach.call(videos, (el) => {\n            let el_src = el.src;\n\n            el.src = el_src;\n        });\n    }\n}\n","(function (root, smoothScroll) {\n  'use strict';\n\n  // Support RequireJS and CommonJS/NodeJS module formats.\n  // Attach smoothScroll to the `window` when executed as a <script>.\n\n  // RequireJS\n  if (typeof define === 'function' && define.amd) {\n    define(smoothScroll);\n\n  // CommonJS\n  } else if (typeof exports === 'object' && typeof module === 'object') {\n    module.exports = smoothScroll();\n\n  } else {\n    root.smoothScroll = smoothScroll();\n  }\n\n})(this, function(){\n'use strict';\n\n// Do not initialize smoothScroll when running server side, handle it in client:\nif (typeof window !== 'object') return;\n\n// We do not want this script to be applied in browsers that do not support those\n// That means no smoothscroll on IE9 and below.\nif(document.querySelectorAll === void 0 || window.pageYOffset === void 0 || history.pushState === void 0) { return; }\n\n// Get the top position of an element in the document\nvar getTop = function(element, start) {\n    // return value of html.getBoundingClientRect().top ... IE : 0, other browsers : -pageYOffset\n    if(element.nodeName === 'HTML') return -start\n    return element.getBoundingClientRect().top + start\n}\n// ease in out function thanks to:\n// http://blog.greweb.fr/2012/02/bezier-curve-based-easing-functions-from-concept-to-implementation/\nvar easeInOutCubic = function (t) { return t<.5 ? 4*t*t*t : (t-1)*(2*t-2)*(2*t-2)+1 }\n\n// calculate the scroll position we should be in\n// given the start and end point of the scroll\n// the time elapsed from the beginning of the scroll\n// and the total duration of the scroll (default 500ms)\nvar position = function(start, end, elapsed, duration) {\n    if (elapsed > duration) return end;\n    return start + (end - start) * easeInOutCubic(elapsed / duration); // <-- you can change the easing funtion there\n    // return start + (end - start) * (elapsed / duration); // <-- this would give a linear scroll\n}\n\n// we use requestAnimationFrame to be called by the browser before every repaint\n// if the first argument is an element then scroll to the top of this element\n// if the first argument is numeric then scroll to this location\n// if the callback exist, it is called when the scrolling is finished\n// if context is set then scroll that element, else scroll window\nvar smoothScroll = function(el, duration, callback, context){\n    duration = duration || 500;\n    context = context || window;\n    var start = context.scrollTop || window.pageYOffset;\n\n    if (typeof el === 'number') {\n      var end = parseInt(el);\n    } else {\n      var end = getTop(el, start);\n    }\n\n    var clock = Date.now();\n    var requestAnimationFrame = window.requestAnimationFrame ||\n        window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame ||\n        function(fn){window.setTimeout(fn, 15);};\n\n    var step = function(){\n        var elapsed = Date.now() - clock;\n        if (context !== window) {\n          context.scrollTop = position(start, end, elapsed, duration);\n        }\n        else {\n          window.scroll(0, position(start, end, elapsed, duration));\n        }\n\n        if (elapsed > duration) {\n            if (typeof callback === 'function') {\n                callback(el);\n            }\n        } else {\n            requestAnimationFrame(step);\n        }\n    }\n    step();\n}\n\nvar linkHandler = function(ev) {\n    if (!ev.defaultPrevented) {\n        ev.preventDefault();\n\n        if (location.hash !== this.hash) window.history.pushState(null, null, this.hash)\n        // using the history api to solve issue #1 - back doesn't work\n        // most browser don't update :target when the history api is used:\n        // THIS IS A BUG FROM THE BROWSERS.\n        // change the scrolling duration in this call\n        var node = document.getElementById(this.hash.substring(1))\n        if (!node) return; // Do not scroll to non-existing node\n\n        smoothScroll(node, 500, function (el) {\n            location.replace('#' + el.id)\n            // this will cause the :target to be activated.\n        });\n    }\n}\n\n// We look for all the internal links in the documents and attach the smoothscroll function\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    var internal = document.querySelectorAll('a[href^=\"#\"]:not([href=\"#\"])'), a;\n    for(var i=internal.length; a=internal[--i];){\n        a.addEventListener(\"click\", linkHandler, false);\n    }\n});\n\n// return smoothscroll API\nreturn smoothScroll;\n\n});\n","export default class Tracking {\n\n    //////////////////////////////////////////\n    //            INITIALISATION            //\n    //////////////////////////////////////////\n\n    constructor() {\n        this.initLinkTracking();\n    }\n\n    initLinkTracking() {\n        let links = document.querySelectorAll('a[href]');\n        links.forEach((link) => link.addEventListener('click', this.onLinkClicked.bind(this)));\n    }\n\n\n    //////////////////////////////////////////\n    //                  API                 //\n    //////////////////////////////////////////\n\n    static trackEvent(category, action, label) {\n        console.log('Track event:', category, action, label);\n\n        if(!window.dataLayer) {\n            console.warn('Google Tag Manager data layer not found. Tracking may not be operational.');\n            window.dataLayer = [];\n            return;\n        }\n\n        window.dataLayer.push({\n            event: category,\n            eventAction: action,\n            eventLabel: label\n        });\n    }\n\n\n    //////////////////////////////////////////\n    //                EVENTS                //\n    //////////////////////////////////////////\n\n    onLinkClicked(event) {\n        Tracking.trackEvent('Link', 'click', event.currentTarget.name);\n    }\n}\n","import SmoothScroll from 'smoothscroll';\nimport Tracking from './tracking';\n\nexport const SHOW_MENU_CLASSNAME = 'menu--show';\nexport const CURRENT_ITEM_CLASSNAME = 'current';\n\nexport default class Header {\n\n    //////////////////////////////////////////\n    //            INITIALISATION            //\n    //////////////////////////////////////////\n\n    constructor() {\n        this.oldScrollPosition = 0;\n        this.isScrollingActivated = true;\n        this.pageWrap = document.getElementById('page__wrap');\n        this.pageWrap.addEventListener('scroll', this.onScroll.bind(this));\n\n        this.pageWrap.addEventListener('mousewheel', this.onMouseWheel.bind(this));\n        this.pageWrap.addEventListener('touchstart', this.onTouchStart.bind(this));\n\n        this.initBurgerButton();\n        this.initSmoothScroll();\n        this.getCurrentSection();\n\n        this.passiveScrollHandler = this.onPassiveScroll.bind(this);\n\n        document.getElementById('header__home_button').addEventListener('click', this.onHomeClick.bind(this));\n\n        this.onScroll();\n    }\n\n    initBurgerButton() {\n        let buttons = document.querySelectorAll('[data-menu-button]');\n\n        buttons.forEach(button => {\n            button.onclick = () => document.body.classList.toggle(SHOW_MENU_CLASSNAME);\n        });\n    }\n\n    initSmoothScroll() {\n        let links = document.querySelectorAll('[data-smooth-scroll]');\n\n        this.smoothScrollLinkClickedHandler = this.onSmoothScrollLinkClicked.bind(this);\n\n        links.forEach((link) => {\n            link.addEventListener('click', this.smoothScrollLinkClickedHandler);\n        })\n    }\n\n    //////////////////////////////////////////\n    //                METHODS               //\n    //////////////////////////////////////////\n\n    getCurrentSection() {\n        let anchors = document.querySelectorAll('[data-scroll-anchor]');\n\n        let scrollTop = this.pageWrap.scrollTop;\n        let scrollBottom = scrollTop + this.pageWrap.innerHeight;\n\n        if (scrollTop < 10) {\n            this.setCurrentItem(anchors[0]['name']);\n\n            return anchors[0];\n        } else {\n            for (let i = anchors.length - 1; i >= 0; i--) {\n                let anchor = anchors[i];\n\n                if (anchor.getBoundingClientRect().top <= 5) {\n                    this.setCurrentItem(anchor['name'])\n                    return anchor;\n                }\n            }\n        }\n    }\n\n    setCurrentItem(currentSection) {\n        let current = document.querySelectorAll(`[data-section=\"#${currentSection}\"]`);\n        let links = document.querySelectorAll('[data-smooth-scroll]');\n\n        links.forEach(function(element) {\n            element.classList.remove(CURRENT_ITEM_CLASSNAME);\n        });\n\n        current.forEach(function(element) {\n            element.classList.add(CURRENT_ITEM_CLASSNAME);\n        });\n    }\n\n    updateAnchorClass(currentSection) {\n        let classList = document.body.classList;\n        let themeColour = currentSection.dataset.themeColour;\n\n        classList.remove(this.anchorClass);\n\n        this.anchorClass = 'section--' + currentSection.name;\n\n        classList.add(this.anchorClass);\n\n        document.body.style.background = themeColour;\n        document.body.style.transition = 'background 0.5s';\n    }\n\n    updateURL(currentSection) {\n        history.replaceState('', '', '#' + currentSection.name);\n    }\n\n    //////////////////////////////////////////\n    //                EVENTS                //\n    //////////////////////////////////////////\n\n    onScroll(event) {\n        if (this.isSmoothScrolling) return;\n        if (!this.debounce) setTimeout(this.passiveScrollHandler, 100);\n    }\n\n    onPassiveScroll() {\n        let currentSection = this.getCurrentSection();\n\n        if(currentSection !== this.oldSection) {\n            this.updateURL(currentSection);\n            this.updateAnchorClass(currentSection);\n            Tracking.trackEvent('Section', 'scroll', currentSection.name);\n        }\n\n        this.oldSection = currentSection;\n        this.debounce = null;\n    }\n\n    onSmoothScrollLinkClicked(event) {\n        event.preventDefault();\n\n        document.body.classList.remove(SHOW_MENU_CLASSNAME);\n\n        let name = event.currentTarget['href'].split('#')[1];\n        let anchor = document.querySelectorAll(`a[name=${name}]`)[0];\n\n        SmoothScroll(anchor, 750, null, this.pageWrap);\n    }\n\n    onMouseWheel() {\n        this.isSmoothScrolling = false;\n    }\n\n    onTouchStart() {\n        this.isSmoothScrolling = false\n    }\n\n    onHomeClick() {\n        SmoothScroll(0, 500, null, this.pageWrap);\n    }\n}\n","import SmoothScroll from 'smoothscroll';\n\nexport default class Scrolling {\n\n    //////////////////////////////////////////\n    //            INITIALISATION            //\n    //////////////////////////////////////////\n\n    constructor() {\n        this.isScrollingActivated = true;\n        this.pageEl = document.getElementById('page');\n        this.pageWrap = document.getElementById('page__wrap');\n        this.header = document.getElementById('header');\n        this.isMobile = window.innerWidth <= 960;\n\n        this.currentScrollPos = 0;\n        this.oldScrollPosition = 0;\n\n        this.pageWrap.addEventListener('wheel', this.onWheel.bind(this));\n        this.pageWrap.addEventListener('scroll', this.onScroll.bind(this));\n\n        if (this.isMobile) {\n            this._initSectionAnchorsForMobile();\n        }\n\n        this.passiveScrollHandler = this.onPassiveScroll.bind(this);\n\n        // Exception for scrolling freely on the overflow areas of the accordian\n        let scrollableElements = document.querySelectorAll('.slide__inner-container-scroll');\n        scrollableElements.forEach((el) => {\n            el.addEventListener('wheel', this.onScrollableElementWheel.bind(this));\n        });\n\n        // Handle citation clicks differently so as not to disrupt the navigation elements\n        let citations = document.querySelectorAll('.stat__cite_link');\n        citations.forEach((el) => {\n            el.addEventListener('click', this.onCitationClick.bind(this));\n        });\n\n        // Down Arrow stuff\n        this.discoverMoreEl = document.querySelectorAll('.down')[0];\n        this.discoverMoreEl.addEventListener('click', this.onDiscoverMoreClicked.bind(this));\n        this.showHideDiscoverMore();\n        this.progressPageHandler = this.progressPage.bind(this);\n    }\n\n    //////////////////////////////////////////\n    //                METHODS               //\n    //////////////////////////////////////////\n    _initSectionAnchorsForMobile() {\n        const sections = document.querySelectorAll(\"#sections_wrapper > div[id*='section']\");\n        let sectionAnchors = [];\n\n        sections.forEach(({id}) => sectionAnchors.push(id));\n        \n        if (sectionAnchors.length > 0) {\n            this.sectionAnchors = sectionAnchors;\n            this.activeSection = sectionAnchors[0];\n            sections[0].classList.add('section--active');\n        }\n    }\n\n    _scrollTo(anchor) {\n        const scrollToElem = document.getElementById(anchor);\n        const currentlyActiveSection = document.getElementsByClassName('section--active')[0];\n        const isLastSection = anchor === this.sectionAnchors[this.sectionAnchors.length - 1];\n\n        if (!currentlyActiveSection) return;\n\n        scrollToElem.scrollIntoView({ \n            behavior: 'smooth',\n            block: \"start\", \n            inline: \"nearest\"\n        });\n\n        scrollToElem.classList.add('section--active');\n        currentlyActiveSection.classList.remove('section--active');\n\n        // hide down arrow on initial scroll into last section\n        if (isLastSection) {\n            setTimeout(() => {\n                this.discoverMoreEl.classList.add('down--hide');\n            }, 800);\n        }\n    }\n\n    _scrollToNext() {\n        if (!this.sectionAnchors) {\n            this._initSectionAnchorsForMobile();\n        }\n\n        const activeSection = document.getElementsByClassName('section--active')[0];\n        let nextSection = this.sectionAnchors[this.sectionAnchors.indexOf(activeSection.id) + 1];\n\n        if (!nextSection) {\n            nextSection = this.sectionAnchors[0];\n        }\n        \n        this._scrollTo(nextSection);\n    }\n\n    _downScroll(scrollBy) {\n        const scrollToPos = this.pageWrap.scrollTop + scrollBy;\n\n        this._deactivateScrolling();\n\n        if (!this.isScrollingActivated) {\n            SmoothScroll(scrollToPos, 500, null, this.pageWrap);\n        }\n\n        setTimeout(() => {\n            this._activateScrolling();\n            this.showHideDiscoverMore();\n            this.oldScrollPosition = this.pageWrap.scrollTop;\n        }, 750);\n    }\n\n    _upScroll(scrollBy) {\n        const scrollToPos = this.pageWrap.scrollTop - scrollBy;\n\n        this._deactivateScrolling();\n\n        if (!this.isScrollingActivated) {\n            SmoothScroll(scrollToPos, 500, null, this.pageWrap);\n        }\n\n        this.oldScrollPosition = this.pageWrap.scrollTop;\n\n        setTimeout(() => {\n            this._activateScrolling();\n            this.showHideDiscoverMore();\n            this.oldScrollPosition = this.pageWrap.scrollTop;\n        }, 750);\n    }\n\n    _deactivateScrolling() {\n        this.isScrollingActivated = false;\n    }\n\n    _activateScrolling() {\n        this.isScrollingActivated = true;\n    }\n\n    showHideDiscoverMore() {\n        const isAtBottom = (this.pageWrap.scrollHeight - this.pageWrap.scrollTop === this.pageWrap.clientHeight);\n        \n        if (isAtBottom) {\n            this.discoverMoreEl.classList.add('down--hide');\n        } else {\n            this.discoverMoreEl.classList.remove('down--hide');\n        }\n    }\n\n    progressPage() {\n        this.pageWrap.scrollBy({\n            top: window.innerHeight,\n            left: 0,\n            behavior: 'smooth'\n        });\n\n        setTimeout(() => {\n            this.showHideDiscoverMore();\n        }, 750);\n    }\n\n    //////////////////////////////////////////\n    //               EVENTS                 //\n    //////////////////////////////////////////\n\n    onWheel(event) {\n        event.preventDefault();\n\n        this.overScroll = event.deltaY;\n\n        //Always ensure the navigation dot menu reappears if it's hidden\n        //e.g. in the expanded accordian\n        document.getElementById('navigation__dot').style.visibility=\"visible\";\n\n        if (!this.isScrollingActivated) return;\n        if (!this.debounce) setTimeout(this.passiveScrollHandler, 100);\n    }\n\n    onScrollableElementWheel(event) {\n        event.stopPropagation();\n    }\n\n    onPassiveScroll() {\n        const isAtBottom = (this.pageWrap.scrollHeight - this.pageWrap.scrollTop === this.pageWrap.clientHeight);\n        const footerHeight = document.querySelector('footer').clientHeight;\n        const onlyPartnersSection = document.querySelector('.about__facebook') === null && document.querySelector('.about__companies') !== null;\n        let partnersHeight = 0;\n\n        if ( document.getElementById('companies') ) {\n            partnersHeight = document.getElementById('companies').clientHeight;\n        }\n        \n        // Checks whether the Partners (logos) section is visible but not the About Us section\n        // and changes the final scrollup height accordingly, as the Partners section isn't 100vh.\n        if (isAtBottom && onlyPartnersSection && this.overScroll <= -20) {\n            this._upScroll(footerHeight + partnersHeight + 10);\n        } else if (isAtBottom && !onlyPartnersSection && this.overScroll <= -20) {\n            this._upScroll(footerHeight + 10);\n        }\n\n        if (this.isScrollingActivated) {\n            if (this.overScroll >= 20 && !isAtBottom) {\n                this._downScroll(window.innerHeight);\n            } else if (this.overScroll <= -20 && !isAtBottom) {\n                this._upScroll(window.innerHeight);\n            } else {\n                return;\n            }\n        }\n\n        if (isAtBottom) {\n            this.discoverMoreEl.classList.add('discover--hide');\n        } else {\n            this.discoverMoreEl.classList.remove('discover--hide');\n        }\n\n        this.debounce = null;\n    }\n\n    onScroll() {\n        this.currentScrollPos = this.pageWrap.scrollTop;\n\n        const scrollDelta = this.currentScrollPos - this.lastScrollPos;\n\n        if (this.currentScrollPos > window.innerHeight) {\n            this.header.classList.add('white');\n        } else {\n            this.header.classList.remove('white');\n        }\n\n        if (scrollDelta > 0) {\n            this.header.classList.add('hide');\n        } else if (scrollDelta < -10) {\n            this.header.classList.remove('hide');\n        }\n\n        this.lastScrollPos = this.pageWrap.scrollTop;\n        \n        if (this.isMobile) this.showHideDiscoverMore();\n    }\n\n    onCitationClick() {\n        const scrollToBottom = this.pageEl.scrollTop + this.pageEl.clientHeight;\n        \n        event.preventDefault();\n        SmoothScroll(scrollToBottom, 500, null, this.pageWrap);\n    }\n\n    onDiscoverMoreClicked() {\n        this.isMobile ? this._scrollToNext() : setTimeout(this.progressPageHandler, 100);\n    }\n}\n","import './polyfills';\nimport App from './app';\n\nnew App();\n","import Section from './components/section';\nimport Programs from './components/programs';\nimport MobilePrograms from './components/programs-mobile';\nimport Header from './components/header';\nimport Companies from './components/companies';\nimport Scrolling from './components/scrolling';\n\n/**\n * App - Main application\n */\nclass App {\n\n    /**\n     * constructor - Create instance of Application\n     */\n    constructor() {\n        new Scrolling();\n        new Section();\n        new Programs();\n        new MobilePrograms();\n        new Header();\n        new Companies();\n    }\n}\n\nexport default App;\n","import Siema from 'siema';\n\nexport default class Companies {\n    \n    //////////////////////////////////////////\n    //            INITIALISATION            //\n    //////////////////////////////////////////\n\n    constructor() {\n        if (document.querySelector('.companies__carousel') == null) {\n            return;\n        }\n\n        const siemaSelector = document.querySelector('.companies__carousel');\n        const siemaSelectorItems = siemaSelector.children.length;\n\n        const CompaniesCarousel = new Siema({\n            selector: siemaSelector,\n            loop: true,\n            duration: 400,\n            perPage: {\n                0: 1,\n                960: siemaSelectorItems >= 3 ? 3 : siemaSelectorItems,\n            }\n        });\n\n        setInterval(() => CompaniesCarousel.next(), 3000);\n    }\n}\n"]}