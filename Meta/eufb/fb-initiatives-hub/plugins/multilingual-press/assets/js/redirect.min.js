!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){"use strict";c.__esModule=!0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(a){switch("undefined"==typeof a?"undefined":d(a)){case"function":return a.name;case"string":return a;case"object":return a.constructor.name}return""};c.getSettings=function(a){return a=e(a),"undefined"!=typeof window["mlp"+a+"Settings"]?window["mlp"+a+"Settings"]:"undefined"!=typeof window[a]?window[a]:{}}},{}],2:[function(a,b,c){"use strict";c.__esModule=!0;c.addEventListener=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent("on"+b,function(){c.call(a)})},c.reloadLocation=function(){window.location.reload(!0)},c.setLocation=function(a){window.location.href=a}},{}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}var f=a("./common/functions"),g=e(f),h=a("./common/utils"),i=e(h),j=a("./redirect/Redirector"),k=d(j);new k["default"](g.getSettings("Redirector"),i).initialize()},{"./common/functions":1,"./common/utils":2,"./redirect/Redirector":4}],4:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e={},f=function(){function a(b,c){d(this,a),e.settings=b,e.storageName="mlpNoredirectStorage",e.storageTimestampName="mlpNoredirectStorageTimestamp",e.userLanguages=navigator.languages||[],e.Util=c}return a.prototype.initialize=function(){if(this.startTimestampUpdate(),!this.isCurrentLanguageStored()){var a=this.getNoredirectLanguage();if(a)return void this.storeLanguage(a);var b=this.findContentLanguage();b&&this.redirect(b)}},a.prototype.checkTimestamp=function(){var a=Number(localStorage.getItem(e.storageTimestampName));return Date.now()<=a+Number(e.settings.storageLifetime)},a.prototype.findContentLanguage=function(){if(e.userLanguages.length&&Object.keys(e.settings.urls).length){for(var a=void 0,b=e.userLanguages,c=Array.isArray(b),d=0,b=c?b:b[Symbol.iterator]();;){var f;if(c){if(d>=b.length)break;f=b[d++]}else{if(d=b.next(),d.done)break;f=d.value}var g=f;if(a=this.matchLanguage(g))return a}for(var h=this.getAdditionalUserLanguages(),i=Array.isArray(h),j=0,h=i?h:h[Symbol.iterator]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{if(j=h.next(),j.done)break;k=j.value}var l=k;if(a=this.matchLanguage(l))return a}}return""},a.prototype.getAdditionalUserLanguages=function(){var a=e.userLanguages;return a.reduce(function(b,c){var d=c.indexOf("-");return d>0&&(c=c.substr(0,d),a.includes(c)||b.push(c)),b},[])},a.prototype.getNoredirectLanguage=function(){var a=new RegExp("[\\?&]"+e.settings.noredirectKey+"=([^?&#]*)").exec(window.location.href);return a?decodeURIComponent(a[1].replace(/\+/g," ")):""},a.prototype.getStoredLanguages=function(){if(!this.checkTimestamp())return localStorage.removeItem(e.storageName),[];var a=localStorage.getItem(e.storageName);return a?a.split(" "):[]},a.prototype.isCurrentLanguageStored=function(){return this.getStoredLanguages().includes(this.normalizeLanguage(e.settings.currentLanguage))},a.prototype.matchLanguage=function(a){if(e.settings.urls[a])return a;if(-1===a.indexOf("-"))for(var b=a+"-",c=Object.keys(e.settings.urls),d=Array.isArray(c),f=0,c=d?c:c[Symbol.iterator]();;){var g;if(d){if(f>=c.length)break;g=c[f++]}else{if(f=c.next(),f.done)break;g=f.value}var h=g;if(h.startsWith(b))return h}return""},a.prototype.normalizeLanguage=function(a){return a.replace(/-/,"_")},a.prototype.redirect=function(a){if(this.storeLanguage(a),a!==e.settings.currentLanguage){var b=e.settings.urls[a].replace(/\?.*$/,"");e.Util.setLocation(b+"?"+e.settings.noredirectKey+"="+this.normalizeLanguage(a))}},a.prototype.startTimestampUpdate=function(){var a=Number(e.settings.updateTimestampInterval);if(a>0){var b=function(){return localStorage.setItem(e.storageTimestampName,Date.now())};b(),setInterval(b,a)}},a.prototype.storeLanguage=function(a){a=this.normalizeLanguage(a);var b=this.getStoredLanguages();b.includes(a)||(b.push(a),localStorage.setItem(e.storageName,b.join(" ")))},a}();c["default"]=f},{}]},{},[3]);